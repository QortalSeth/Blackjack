{"version":3,"file":"Hand.js","sourceRoot":"","sources":["../../TypeScript/Models/Hand.ts"],"names":[],"mappings":"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","sourcesContent":["import {Deck} from \"./Deck\"\nimport {Card} from \"./Card\"\n\nexport class Hand {\n    cards: Card[]\n    score: number[]\n    stayed: boolean\n    winningText: string\n    surrender: boolean\n    insurance: number\n\n\n    constructor (public bet: number) {\n        this.cards = []\n        this.score = []\n        this.stayed = false\n        this.surrender = false\n        this.insurance = 0\n    }\n\n    addCardFromDeck (deck: Deck): Card {\n        let cardToAdd = deck.cards.pop()\n        this.cards.push(cardToAdd)\n        this.calculateScore()\n        return cardToAdd\n    }\n\n    addCardFromCard (cardToAdd: Card): Card {\n        this.cards.push(cardToAdd)\n        this.calculateScore()\n        return cardToAdd\n    }\n\n    private calculateScore () {\n        this.score = []\n        let baseScore = 0\n        let aces = 0\n        for (let card of this.cards) {\n            baseScore += card.getScore()\n            if (card.type === \"Ace\") {\n                aces++\n            }\n        }\n\n        this.score.push(baseScore)\n        while (aces-- > 0) {\n            baseScore += 10\n            if (baseScore <= 21) {\n                this.score.push(baseScore)\n            }\n\n        }\n    }\n\n    getScoreText () {\n        if (this.score.length > 0) {\n            let text = `${this.score[0]}`\n            for (let i = 1; i < this.score.length; i++) {\n                text += ` or ${this.score[i]}`\n            }\n            return text\n        }\n        else return \"0\"\n    }\n\n    getHighestScore (): number {\n        if (this.score.length > 0) {\n\n            let max = this.score[0]\n\n            for (let score of this.score) {\n                max = Math.max(max, score)\n            }\n            return max\n        }\n        return 0\n    }\n\n    getLowestScore (): number {\n        if (this.score.length > 0) {\n            let min = this.score[0]\n\n            for (let score of this.score) {\n                min = Math.min(min, score)\n            }\n            return min;\n        }\n        return 0\n    }\n\n\n    checkBust (): boolean {\n        return this.getLowestScore() <= 21\n    }\n\n    checkTurnOver (): boolean {\n        return this.checkBust() || this.checkStay()\n    }\n\n    checkDoubleDown (): boolean {\n        let scoreCheck = this.getHighestScore() < 11\n        let cardCountCheck = this.cards.length <= 2\n\n        return scoreCheck && cardCountCheck\n    }\n\n    checkSplit (): boolean {\n        let scoreCheck = this.getHighestScore() < 11\n        let cardCountCheck = this.cards.length === 2\n\n        return scoreCheck && cardCountCheck\n    }\n\n    checkHit () {\n        return this.getLowestScore() <= 21 && this.stayed === false\n    }\n\n    checkStay () {\n        return !this.stayed\n    }\n\n    checkInsurance (): boolean {\n        return this.cards[0].type === \"Ace\"\n    }\n\n    checkBlackjack (): boolean {\n        let scoreCheck = this.getHighestScore() === 21\n        let cardCountCheck = this.cards.length === 2\n\n        return scoreCheck && cardCountCheck\n    }\n\n    checkSurrender (): boolean {\n        return this.cards.length === 2\n    }\n\n    decideWinner (dealerHand: Hand): number {\n        let dealerScore = dealerHand.getHighestScore()\n        let playerScore = this.getHighestScore()\n\n        if (this.surrender === true) {\n            this.winningText = \"Surrendered\"\n            return this.bet / 2\n        }\n\n        if (this.checkBlackjack() === true) {\n            this.winningText = \"Player Wins by Blackjack :D\"\n            return this.bet * 3 / 2 + this.bet\n        }\n\n        if (dealerHand.checkBlackjack() === true) {\n            this.winningText = \"Dealer Wins by Blackjack :(\"\n            return this.insurance * 2\n        }\n\n        if (playerScore > 21) {\n            this.winningText = \"Dealer Wins\"\n            return 0\n        }\n\n        if (dealerScore > 21) {\n            this.winningText = \"Player Wins\"\n            return this.bet * 2\n        }\n\n        if (dealerScore > playerScore) {\n            this.winningText = \"Dealer Wins\"\n            return 0\n        }\n\n        if (dealerScore === playerScore) {\n            this.winningText = \"Well call it a draw @_@\"\n            return this.bet\n        }\n        if (dealerScore < playerScore) {\n            this.winningText = \"Player Wins\"\n            return this.bet * 2\n        }\n\n    }\n\n}\n"]}